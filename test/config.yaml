$select:
  useCustomLibrary:
    -: false
    -ios: true
$store:
  targets:
    -mac, linux:
      device:
        arch: x64
        endianness: LE
    -ios !linux:
      device:
        optimize: true
        arch: arm
        endianness: BE
      simulator:
        arch: x64
        endianness: LE
  host:
    -host-mac:
      compiler: clang
    -host-linux:
      compiler: gcc
build:
  $map:
    from: ${store.targets}
    to:
      ninja:
        fetch: http://ninja-v${store.host.ninja.version}.tar.gz
        cc: ${store.host.compiler}
      defines:
        $:
          LE: 4321
          BE: 1234
        TARGET_ENDIANNESS: ${${endianness}}
      cFlags:
        -production:
          wAll: true
          o: 3
        -debug:
          o: 0
require:
  requiredLibrary: tmake/requiredLibrary
  -useCustomLibrary:
    customLibrary: tmake/customLibrary
