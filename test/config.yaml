$select:
  useCustomLibrary:
    -: false
    -ios: true
$store:
  targets:
    -ios:
      device:
        arch: arm
        endianness: BE
      simulator:
        arch: x64
        endianness: LE
  host:
    -host-mac:
      compiler: clang
    -host-linux:
      compiler: gcc
build:
  $map:
    $in: ${store.targets}
    $out:
      ninja:
        $temp:
          version: ${store.host.ninja.version}
        fetch: http://ninja-v${version}.tar.gz
        cc: ${store.host.compiler}
      defines:
        $temp:
          LE: 4321
          BE: 1234
        TARGET_ENDIANNESS: ${${endianness}}
      cFlags:
        -production:
          wAll: true
          o: 3
        -debug:
          o: 0
require:
  requiredLibrary: tmake/requiredLibrary
  -useCustomLibrary:
    customLibrary: tmake/customLibrary
